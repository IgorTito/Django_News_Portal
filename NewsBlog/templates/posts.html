<!--наследуемся от default.html-->
{% extends 'flatpages/default.html' %}

{% load my_filter %}
<!--в заголовок идентификатор с таким же именем как и в представлениях -->
{% block title %}
Posts
{% endblock title %}

{% block content %}
<h1><span style="color: #ffffff;">Статьи</span></h1>
<h3>{{ time_now|date:'M d Y' }}</h3>
<h4><span style="color: #ffffff;">Общее количество статей: </span>{{ posts|length }}</h4>
<!-- Если в переменной next_sale будет None,
то выведется указанный в фильтре текст -->
<!--<h3> {{ next_sale|default_if_none:"Сообщим позже о новых статьях!" }} </h3>-->

<hr>
{% if posts %}
<table>
    <tr>
        <td>Заголовок</td>
        <td>Автор публикации</td>
        <td>Дата публикации</td>
        <td>Текст статьи
        <td>Рейтинг статьи</td>


    </tr>

    {% for post in posts %}
    <tr>
        <td>{{ post.name_of_article_or_news|truncatewords:4|cenz }}</td>
        <td>{{ post.name.author_name }}</td>
        <td>{{ post.date_of_create|date:"d M Y" }}</td>
        <td>{{ post.text_of_article_or_news|truncatechars:20 }}</td>
        <td>{{ post.rating_of_article_or_news }}</td>

    </tr>
    {% endfor %}

</table>
{% else %}
<h2>!!!</h2>
{% endif %}
{% endblock content %}


